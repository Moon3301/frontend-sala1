<mat-accordion >

  @for( company of companies; track $index){
    <br>
    <mat-expansion-panel style="background-color: rgba(36, 73, 80, 0.1);">
      <mat-expansion-panel-header>{{company.name}}</mat-expansion-panel-header>
      <br>
      <div class="mat-elevation-z8">
        <table mat-table [dataSource]="company.movies" class="movie-table">

          <ng-container matColumnDef="company">
            <th mat-header-cell *matHeaderCellDef> Compa√±ia </th>
            <td mat-cell *matCellDef="let movie"> {{movie.company}} </td>
          </ng-container>

          <!-- Director Column -->
          <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> Titulo </th>
            <td mat-cell *matCellDef="let movie"> {{movie.title}} </td>
          </ng-container>

          <!-- New Release Column -->
          <ng-container matColumnDef="isNewRelease">
            <th mat-header-cell *matHeaderCellDef> Nuevo estreno </th>
            <td mat-cell *matCellDef="let movie">
              <mat-slide-toggle
                [checked]="movie.isPremiere"
                (change)="toggleNewRelease(movie)"
                color="primary">
                {{movie.isPremiere ? 'Si' : 'No'}}
              </mat-slide-toggle>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>

      <br>

        <div class="d-flex flex-row-reverse">

          <button mat-flat-button >Guardar</button>

        </div>



    </mat-expansion-panel>
  }

</mat-accordion>

